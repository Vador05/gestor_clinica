<!doctype html>
<head>
    <meta content="text/html; charset=utf-8">
    <script src="codebase/dhtmlxscheduler.js" ></script>
    <link rel="stylesheet" href="codebase/dhtmlxscheduler.css">
    <style type="text/css" media="screen">
        html, body{
            margin:0px;
            padding:0px;
            height:100%;
            overflow:hidden;
        }
    </style>
    <div class="row">
        <div class="column">
            <select>
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
            </select>

        </div>
        <div class="column"></div>
        <div class="column"></div>

    </div>
</head>


<script type="text/javascript" charset="utf-8">
    function init() {

        scheduler.config.first_hour = 9;
        scheduler.config.last_hour = 21;
        scheduler.config.event_duration=20;
        scheduler.config.time_step = 20;
        scheduler.config.start_on_monday = true;
        scheduler.form_blocks["my_editor"]={
            render:function(sns){
                return "<div class='dhx_cal_ltext' style='height:150px;'>Patient :&nbsp;<input type='text'><br/> Visit notes&nbsp;<input type='text'  style=' height:90px; width:90%'><br/> Area of visit&nbsp; " +
                    "<select>\n" +
                    "  <option value=\"volvo\">Volvo</option>\n" +
                    "  <option value=\"saab\">Saab</option>\n" +
                    "  <option value=\"mercedes\">Mercedes</option>\n" +
                    "  <option value=\"audi\">Audi</option>\n" +
                    "</select><br/> " +
                    " Tests brought for the visit: <input type=\"file\" name=\"myFile\"><br><br>\n" +
                    "</div>";
            },
            set_value:function(node,value,ev){
                console.log(node.childNodes);
                node.childNodes[1].value=value||"";
                node.childNodes[4].value=ev.comments||"";
                node.childNodes[7].value = ev.speciality;
                node.childNodes[10] = ev.file;
            },
            get_value:function(node,ev){
                ev.file= node.childNodes[10].value;
                ev.speciality = node.childNodes[7].value;
                ev.comments= node.childNodes[4].value;
                return node.childNodes[1].value;
            },
            focus:function(node){
                var a=node.childNodes[1]; a.select(); a.focus();
            }
        }
        scheduler.config.lightbox.sections=[
            { name:"description", height:200, map_to:"text", type:"my_editor" , focus:true},
            { name:"time", height:72, type:"time", map_to:"auto"}
        ]
        scheduler.init('scheduler_here',(Date.now()));

    }

   //scheduler.init('scheduler_here',new Date(2018,8,4),"month");

    scheduler.templates.xml_date = function(value){ return new Date(value); };
    scheduler.load("/data", "json");

    scheduler.config.xml_date="%Y-%m-%d %H:%i";

    var dp = new dataProcessor("/data");
    dp.init(scheduler);
    dp.setTransactionMode("POST", false);
</script>

<body onload="init();">
<div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:100%;'>
    <div class="dhx_cal_navline">
        <div class="dhx_cal_prev_button">&nbsp;</div>
        <div class="dhx_cal_next_button">&nbsp;</div>
        <div class="dhx_cal_today_button"></div>
        <div class="dhx_cal_date"></div>
        <div class="dhx_cal_tab" name="day_tab"></div>
        <div class="dhx_cal_tab" name="week_tab"></div>
        <div class="dhx_cal_tab" name="month_tab"></div>
    </div>
    <div class="dhx_cal_header">
    </div>
    <div class="dhx_cal_data">
    </div>
</div>
</body>